{"openapi":"3.0.1","info":{"title":"User Fleet Management System","description":"API to register user and manage their profile and fleet","version":"1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/registration/v1/vehicles":{"post":{"tags":["Vehicle"],"summary":"Add Vehicle details for registered user","operationId":"postVehicle","parameters":[{"name":"X-Test-Mode","in":"header","required":false,"schema":{"type":"boolean","default":false}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Vehicle"}}},"required":true},"responses":{"422":{"description":"Unprocessable data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnProcessableReponse"}}}},"200":{"description":"Vehicle details successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVehicleSuccessResponse"}}}}}}},"/registration/v1/users":{"get":{"tags":["User"],"summary":"Provides list of available registered user details in paginated format","operationId":"getUsers","parameters":[{"name":"X-Fetch-Mode","in":"header","required":false,"schema":{"type":"string","default":""}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"404":{"description":"Information not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataNotFoundResponse"}}}},"200":{"description":"Register user list successfully provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUserRegisterSuccessResponse"}}}}}},"post":{"tags":["User"],"summary":"Register user details","operationId":"postUsers","parameters":[{"name":"X-Test-Mode","in":"header","required":false,"schema":{"type":"boolean","default":false}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CiamUser"}}},"required":true},"responses":{"200":{"description":"User registration is successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRegistrationSuccessResponse"}}}}}}},"/registration/v1/profiles":{"get":{"tags":["Profiles"],"summary":"Provides list of available registered user profiles in paginated format","operationId":"getProfiles","parameters":[{"name":"X-Fetch-Mode","in":"header","required":false,"schema":{"type":"string","default":""}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"404":{"description":"Information not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataNotFoundResponse"}}}},"200":{"description":"Register profile list successfully provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProfileSuccessResponse"}}}}}},"post":{"tags":["Profiles"],"summary":"Add Profile details for registered user","operationId":"postProfile","parameters":[{"name":"X-Test-Mode","in":"header","required":false,"schema":{"type":"boolean","default":false}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Profile"}}},"required":true},"responses":{"422":{"description":"Unprocessable data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnProcessableReponse"}}}},"200":{"description":"Profile details successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileSuccessResponse"}}}}}}},"/service/v1/charging-station/{location}/vehicle/{vin}":{"get":{"tags":["Charging-Station"],"summary":"Provides list of available registered user details in paginated format","operationId":"getChargingStation","parameters":[{"name":"X-Fetch-Mode","in":"header","required":false,"schema":{"type":"string","default":""}},{"name":"location","in":"path","required":true,"schema":{"type":"string"}},{"name":"vin","in":"path","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"404":{"description":"Information not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataNotFoundResponse"}}}},"200":{"description":"Register user list successfully provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUserRegisterSuccessResponse"}}}}}}},"/registration/v1/vehicles/{ciamId}":{"get":{"tags":["Vehicle"],"summary":"Get Vehicle details for registered ciamId","operationId":"getVehicleByCiamId","parameters":[{"name":"X-Fetch-Mode","in":"header","required":false,"schema":{"type":"string","default":""}},{"name":"ciamId","in":"path","required":true,"schema":{"type":"integer"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"404":{"description":"Information not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataNotFoundResponse"}}}},"200":{"description":"Vehcile details successfully provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedVehicleSuccessResponse"}}}}}}},"/registration/v1/profiles/{ciamId}":{"get":{"tags":["Profiles"],"summary":"Get Profile details for registered ciamId","operationId":"getProfileByCiamId","parameters":[{"name":"X-Fetch-Mode","in":"header","required":false,"schema":{"type":"string","default":""}},{"name":"ciamId","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"404":{"description":"Information not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataNotFoundResponse"}}}},"200":{"description":"Profile details successfully provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileSuccessResponse"}}}}}}}},"components":{"schemas":{"Vehicle":{"type":"object","properties":{"ciamId":{"type":"integer","description":"Ciam ID","example":1234},"providerId":{"type":"string","description":"Charging provider id","example":"DCS","enum":["CPI","DCS","NAV","DCS, CPI, NAV"]},"location":{"type":"string","description":"Registered vehicle's location","example":"Paris"},"currencyCode":{"type":"string","description":"Currency code","example":"EUR"},"vin":{"type":"string","description":"Vehicle identifier","example":"WDD12345090"},"chargingMode":{"type":"string","description":"Charging mode","example":"AC3","enum":["AC1","AC3","DC","AC1, AC3, DC"]},"registeredAt":{"type":"string","description":"Vehicle registered timestamp","format":"date-time","example":"2021-01-01T00:00:00Z"},"timeZone":{"type":"string","description":"Time zone","example":"Asia/Shangai"}},"description":"List of data returned"},"UnProcessableReponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"ERROR"},"responseCode":{"type":"string","description":"Response status code","example":"422","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Invalid record"},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"type":"object","nullable":true}}},"UpdateVehicleSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data updated successfully."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/Vehicle"}}},"CiamUser":{"type":"object","properties":{"ciamId":{"type":"integer","description":"Ciam ID","example":1234},"location":{"type":"string","description":"User location","example":"Paris"},"currencyCode":{"type":"string","description":"Currency code","example":"EUR"},"createdAt":{"type":"string","description":"Record created timestamp","format":"date-time","example":"2021-01-01T00:00:00Z"},"updatedAt":{"type":"string","description":"Last updated timestamp","format":"date-time","example":"2021-01-01T00:00:00Z"}},"description":"List of data returned"},"UpdateUserRegistrationSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data updated successfully."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/CiamUser"}}},"Profile":{"type":"object","properties":{"ciamId":{"type":"integer","description":"Ciam ID","example":1234},"salute":{"type":"string","description":"Salutation","example":"Mr."},"firstName":{"type":"string","description":"User's first name","example":"Marcus"},"lastName":{"type":"string","description":"User's last name","example":"Louise"},"ssn":{"type":"string","description":"User's SSN ID","example":"1234"},"pinCode":{"type":"string","description":"User's resident pincode","example":"1234"},"createdAt":{"type":"string","description":"Record created timestamp","format":"date-time","example":"2021-01-01T00:00:00Z"},"updatedAt":{"type":"string","description":"Last updated timestamp","format":"date-time","example":"2021-01-01T00:00:00Z"},"timeZone":{"type":"string","description":"Time zone","example":"Asia/Shangai"}}},"UpdateProfileSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data updated successfully."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/Profile"}}},"DataNotFoundResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"ERROR"},"responseCode":{"type":"string","description":"Response status code","example":"404","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data not found."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"type":"object","nullable":true}}},"PaginatedResponseListCiamUser":{"type":"object","properties":{"pageSize":{"type":"integer","description":"Total records returned for requested page size","format":"int32","example":5},"totalPage":{"type":"integer","description":"Total pages size available","format":"int32","example":10},"totalRecords":{"type":"integer","description":"Total records available","format":"int32","example":50},"data":{"type":"array","description":"List of data returned","items":{"type":"array","description":"List of data returned","items":{"$ref":"#/components/schemas/CiamUser"}}}}},"PaginatedUserRegisterSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data successfully returned."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/PaginatedResponseListCiamUser"}}},"PaginatedResponseListVehicle":{"type":"object","properties":{"pageSize":{"type":"integer","description":"Total records returned for requested page size","format":"int32","example":5},"totalPage":{"type":"integer","description":"Total pages size available","format":"int32","example":10},"totalRecords":{"type":"integer","description":"Total records available","format":"int32","example":50},"data":{"type":"array","description":"List of data returned","items":{"type":"array","description":"List of data returned","items":{"$ref":"#/components/schemas/Vehicle"}}}}},"PaginatedVehicleSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data successfully returned."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/PaginatedResponseListVehicle"}}},"PaginatedProfileSuccessResponse":{"type":"object","properties":{"status":{"type":"string","description":"Response status","example":"OK"},"responseCode":{"type":"string","description":"Response status code","example":"200","enum":["DATA_UPDATED","DATA_FOUND","NOT_FOUND","UNPROCESSABLE_ENTITY"]},"message":{"type":"string","description":"Response message","example":"Requested data successfully returned."},"source":{"type":"string","description":"Response system source","example":"UFS"},"data":{"$ref":"#/components/schemas/PaginatedResponseListProfile"}}},"PaginatedResponseListProfile":{"type":"object","properties":{"pageSize":{"type":"integer","description":"Total records returned for requested page size","format":"int32","example":5},"totalPage":{"type":"integer","description":"Total pages size available","format":"int32","example":10},"totalRecords":{"type":"integer","description":"Total records available","format":"int32","example":50},"data":{"type":"array","description":"List of data returned","items":{"type":"array","description":"List of data returned","items":{"$ref":"#/components/schemas/Profile"}}}}}}}}